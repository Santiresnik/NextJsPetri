generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider     = "mysql"
  url          = env("DATABASE_URL")
  relationMode = "prisma"
}

model transporte {
  id          Int    @id @unique(map: "id") @default(autoincrement())
  humedad     Float  @db.Float
  temperatura Float  @db.Float
  x_pos       Int    @map("x-pos") @db.SmallInt
  y_pos       Int    @map("y-pos") @db.SmallInt
  tag         String @unique @db.VarChar(255)
}

model Camiones {
  id        String     @id @unique(map: "id") @default(uuid())
  tag       String     @unique @db.VarChar(255)
  patente   String     @unique @db.VarChar(255)
  modelo    String     @db.VarChar(255)
  capacidad Float      @db.Float
  compania  String     @db.VarChar(255)
  sensores  Sensores[]
}

model Sensores {
  id             Int      @id @unique(map: "id") @default(autoincrement())
  temperatura    Float    @db.Float
  humedad        Float    @db.Float
  latitud        Float    @db.Float
  longitud       Float    @db.Float
  tiempoMedicion DateTime @db.Timestamp()
  tiempoDB       DateTime @default(now())
  idCamion       String
  Camion         Camiones @relation(fields: [idCamion], references: [tag])

  @@index([idCamion])
}
